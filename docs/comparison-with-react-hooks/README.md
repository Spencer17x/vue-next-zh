# 与React Hooks的比较

基于函数的API提供了与React Hooks相同级别的逻辑组合功能，但有一些重要的区别。与React钩子不同， ```setup()``` 函数仅被调用一次。这意味着使用Vue的Composition API的代码为：

* 总的来说，它更符合惯用的JavaScript代码的直觉；
* 对呼叫顺序不敏感，可以有条件；
* 每次提炼不重复调用，产生的GC压力较小；
* 不必考虑几乎总是需要 ```useCallback``` 的问题，以防止内联处理程序导致子组件的过度重新渲染；
* 如果用户忘记传递正确的依赖项数组，```useEffect``` 和 ```useMemo``` 可能会捕获过时的变量，这不受此问题的影响。Vue的自动依赖关系跟踪确保观察者和计算值始终正确无效。

我们认可React Hooks的创造力，这是该建议的主要灵感来源。但是，上面提到的问题确实存在于设计中，我们注意到Vue的反应性模型提供了解决这些问题的方法。

